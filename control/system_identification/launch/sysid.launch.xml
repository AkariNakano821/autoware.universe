<launch>
    <arg name="sysid_param_path"
         default="$(find-pkg-share system_identification)/param/system_identification.param.yaml"/>

    <!-- System Identification Package Launch -->
    <!--launch-prefix="valgrind \-leak-check=full or xterm -e" -->
    <!--          launch-prefix="valgrind &#45;&#45;tool=callgrind"-->

    <node pkg="system_identification"
          exec="system_identification_node_exe"
          name="system_identification_node_exe"
          output="screen">

        <!--  Inputs -->
        <param from="$(var sysid_param_path)"/>
        <remap from="~/input/reference_trajectory" to="/planning/scenario_planning/trajectory"/>
        <remap from="~/input/current_velocity" to="/localization/kinematic_state"/>
        <remap from="~/input/current_steering" to="/vehicle/status/steering_status"/>

        <!--  Outputs -->
        <remap from="~/output/control_cmd" to="/control/command/control_cmd"/>
        <remap from="~/output/control_cmd" to="/control/trajectory_follower/control_cmd"/>
        <remap from="~/output/system_identification_vars" to="system_identification_vars"/>

    </node>
</launch>
